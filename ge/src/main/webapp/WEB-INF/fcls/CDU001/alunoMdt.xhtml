<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:plcf="http://www.powerlogic.com.br/plcf" 
	xmlns:tr="http://myfaces.apache.org/trinidad" 
	xmlns:trh="http://myfaces.apache.org/trinidad/html">  
	<ui:composition> 
		<plcf:tabela tituloChave="alunoman.titulo" aoSair="comutaAbaFacelets(1)" id="cabecalho">
	
			<plcf:linha>
				<plcf:celula>
					<img src="#{request.contextPath}/f/ImagemAluno?idAluno" align="center" width="170" height="200" alt="Imagem do Aluno(a)"/>
				</plcf:celula>
						
				<plcf:celula>
					<plcf:linha>
						<plcf:celula>
							<plcf:titulo tituloChave="label.matriculaTit" inlineStyle="font-size:15px"/>
						</plcf:celula>
						<plcf:celula>
							<plcf:texto id="matriculaVazia" value="#{plcEntidade.matricula}" rendered="#{plcEntidade.id == null}" obrigatorio="S" />
							<plcf:exibe id="matricula" value="#{plcEntidade.matricula}" rendered="#{plcEntidade.id != null}" inlineStyle="font-size:15px" />
						</plcf:celula>
					</plcf:linha>
				</plcf:celula>	
			
			</plcf:linha>
			<plcf:linha>
				<plcf:celula >
					<tr:inputFile id="fotoAluno" value="#{plcAction.fotoAluno}"/>
					<plcf:botaoAcao id="addFotoAluno" acao="anexarFotoAluno"  label="add.foto" validaForm="false"/>
				</plcf:celula>
				<plcf:celula>
					<plcf:titulo tituloChave="label.anoLetivoAluno"/>
					<plcf:texto id="anoLetivo" value="#{plcEntidade.anoLetivo}" ajudaChave="ajuda.anoLetivoAluno" tamanho="5" obrigatorio="S"/>
				</plcf:celula>
			</plcf:linha>
			
			<br>&nbsp;</br>
			<plcf:linha><plcf:celula>&nbsp;</plcf:celula></plcf:linha>
			<br>&nbsp;</br>
			<plcf:linha>
				<plcf:celula >
					<plcf:titulo tituloChave="label.tipoEducacao"/>
					<plcf:comboEstatico id="tipoEducacao" value="#{plcEntidade.tipoEducacao}" dominio="TipoEducacao"  exibeBranco="S" />
				</plcf:celula>
				<plcf:celula>
					<plcf:titulo tituloChave="label.turma"/>
					<plcf:comboDinamico id="turma" value="#{plcEntidade.turma}" dominio="TurmaEntity" exibeBranco="S"  propRotulo="descricao" onchange="limpaMatricula(this);"/>
				</plcf:celula>
				<plcf:celula>
					<plcf:titulo tituloChave="label.dataMatricula"/>
					<plcf:texto id="dataCadastro" value="#{plcEntidade.dataCadastro}"  ajudaChave="ajuda.dataMatricula" somenteLeitura="S" />
				</plcf:celula>
			</plcf:linha>
			<plcf:linha>
				<plcf:celula>
					<plcf:titulo tituloChave="label.nomeAluno"/>
					<plcf:texto id="nomeAluno" value="#{plcEntidade.nomeAluno}"    ajudaChave="ajuda.nomeAluno" />
				</plcf:celula>
				<plcf:celula>
					<plcf:titulo tituloChave="label.sexo"/>
					<plcf:comboEstatico id="sexo" value="#{plcEntidade.sexo}" dominio="Sexo"  exibeBranco="S" />
				</plcf:celula>
				<plcf:celula>
					<plcf:titulo tituloChave="label.dataNascimento"/>
					<plcf:data id="dataNascimento" value="#{plcEntidade.dataNascimento}"    ajudaChave="ajuda.dataNascimento" tamanho="10"/>
				</plcf:celula>
			</plcf:linha>
			<plcf:linha>
				<plcf:celula>
					<plcf:titulo tituloChave="label.telefone"/>
					<plcf:texto id="telefone" value="#{plcEntidade.telefone}"    ajudaChave="ajuda.telefone" onkeydown="mascara(this,telefoneDDD)" />
				</plcf:celula>
				<plcf:celula>
					<plcf:titulo tituloChave="label.responsavelAluno"/>
					<plcf:texto id="responsavelAluno" value="#{plcEntidade.responsavelAluno}"    ajudaChave="ajuda.responsavelAluno" />
				</plcf:celula>
			</plcf:linha>
			<plcf:linha>
				<plcf:celula>
					<plcf:titulo tituloChave="label.necessidadeEduEspecial"/>
					<plcf:texto id="necessidadeEduEspecial" value="#{plcEntidade.necessidadeEduEspecial}"    ajudaChave="ajuda.necessidadeEduEspecial" tamanho="50" tamanhoMaximo="100" />
				</plcf:celula>
				<plcf:celula>
					<plcf:titulo tituloChave="label.ultimaEscola"/>
					<plcf:texto id="ultimaEscola" value="#{plcEntidade.ultimaEscola}"    ajudaChave="ajuda.ultimaEscola" />
				</plcf:celula>
			</plcf:linha>
			
		</plcf:tabela>	
		<br></br>	
					<!-- #### MENSALIDADE ##### -->
		<plcf:linha styleClass="ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" >
			<plcf:celula>
				<plcf:titulo tituloChave="titulo.periodo.mensalidadeAluno" />
			</plcf:celula>
		</plcf:linha>
		
		<plcf:tabela   tituloChave="titulo.mensalidadeAluno" >
		<plcf:linha>
			<plcf:celula>
				<plcf:titulo tituloChave="label.periodoAluno"/>
				<plcf:comboEstatico id="periodoAluno" value="#{plcEntidade.periodoAluno}"    ajudaChave="ajuda.periodoAluno" dominio="PeriodoAluno" exibeBranco="S" obrigatorio="S"/>
			</plcf:celula>
		</plcf:linha>	
			
		<plcf:linha>
			<plcf:celula>
				<plcf:titulo tituloChave="label.horaEntrada"/>
				<plcf:texto id="horaEntrada" value="#{plcEntidade.horaEntrada}"    ajudaChave="ajuda.horaEntrada" onkeydown="mascara(this,hora)" obrigatorio="S" onchange="calculaCargaHoraria();"/>	
			</plcf:celula>
			<plcf:celula>
				<plcf:titulo tituloChave="label.horaSaida"/>
				<plcf:texto id="horaSaida" value="#{plcEntidade.horaSaida}"    ajudaChave="ajuda.horaEntrada" onkeydown="mascara(this,hora)" obrigatorio="S" onchange="calculaCargaHoraria();"/>	
			</plcf:celula>
			<plcf:celula>
				<plcf:titulo tituloChave="label.cargaHoraria"/>
				<plcf:texto id="cargaHoraria" value="#{plcEntidade.cargaHoraria}"    ajudaChave="ajuda.cargaHoraria" obrigatorio="S" somenteLeitura="S" tamanho="5"/>
			</plcf:celula>
		</plcf:linha>
		
		<plcf:linha>
			<plcf:celula>
				<plcf:titulo tituloChave="label.valorMensalidadeAluno"/>
				<plcf:numerico id="valorMensalidadeAluno" value="#{plcEntidade.valorMensalidadeAluno}"    ajudaChave="ajuda.valorMensalidadeAluno" somenteLeitura="S" tamanho="10"/>
			</plcf:celula>
		</plcf:linha>
		<plcf:linha>
			<plcf:celula>
				<plcf:titulo tituloChave="label.descontoMensalidade"/>
				<plcf:numerico id="descontoMensalidade" value="#{plcEntidade.descontoMensalidade}"   ajudaChave="ajuda.descontoMensalidade" tamanho="10"  />
			</plcf:celula>
		</plcf:linha>
		
		<plcf:linha>
			<plcf:celula>
				<plcf:titulo tituloChave="label.valorTotalMensalidade"/>
				<plcf:numerico id="valorTotalMensalidade" value="#{plcEntidade.valorTotalMensalidade}"    ajudaChave="ajuda.valorTotalMensalidade" somenteLeitura="S" obrigatorio="S" tamanho="10"/>
			</plcf:celula>
			<plcf:celula>
				<plcf:botaoAcao id="btCalculaDescontoMensalidade" acao="calculaDescontoMensalidade"  validaForm="false" limpaForm="false" inlineStyle="display:show;" text="Calcula Desconto Mensalidade"/>
			</plcf:celula>
		</plcf:linha>
</plcf:tabela>

<br>
</br>
<!-- #### MATRICULA ##### -->
		<plcf:linha styleClass="ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" >
			<plcf:celula>
				<plcf:titulo tituloChave="titulo.matriculaAluno" />
			</plcf:celula>
		</plcf:linha>
<plcf:tabela >
	<plcf:linha>
		<plcf:celula>
			<plcf:titulo tituloChave="label.tipoMatricula"/>
			<plcf:comboEstatico id="tipoMatricula" value="#{plcEntidade.tipoMatricula}"    ajudaChave="ajuda.tipoMatricula" dominio="TipoMatricula" exibeBranco="S" obrigatorio="S" onchange="submit();" valueChangeListener="#{plcAction.calculaMatricula}" />
		</plcf:celula>
	</plcf:linha>
	
	<plcf:linha>
		<plcf:celula>
			<plcf:titulo tituloChave="label.desconto.matricula"/>
			<plcf:numerico id="descontoMatricula" value="#{plcEntidade.descontoMatricula}" onchange="calculaDescontoMatricula(this);" ajudaChave="ajuda.desconto.matricula" tamanho="10" />
		</plcf:celula>
		
		<plcf:celula>
			<plcf:titulo tituloChave="label.valorMatricula"/>
			<plcf:numerico id="valorMatricula" value="#{plcEntidade.valorMatricula}"    ajudaChave="ajuda.valorMatricula" somenteLeitura="S" tamanho="10" obrigatorio="S"/>
		</plcf:celula>
		<plcf:celula>
			<plcf:botaoAcao id="btcalculaDescontoMatricula" acao="calculaDescontoMatricula"  validaForm="false" limpaForm="false" inlineStyle="display:show;" text="Calcula Desconto MatrÃ­cula"/>
		</plcf:celula>
	</plcf:linha>
	
</plcf:tabela>

<plcf:botaoAcao id="calculaCargaHoraria" acao="calculaCargaHoraria"  validaForm="false" limpaForm="false" inlineStyle="display:none;" />
<plcf:botaoAcao id="btLimpaMatricula" acao="limpaMatricula"  validaForm="false" limpaForm="false" inlineStyle="display:none;" />
			
			
			
	<script avaliar="S" type="text/javascript">

		//<![CDATA[

			function calculaDescontoMensalidade(){
				alert('entro calcula');
				document.getElementById('corpo:formulario:btCalculaDescontoMensalidade').click();
			}
			function calculaDescontoMatricula(obj){

				if (obj.value != null){
					document.getElementById("corpo:formulario:btcalculaDescontoMatricula").click();
				}
			}

			function limpaMatricula(obj){

				if (obj.value != null){
					document.getElementById("corpo:formulario:btLimpaMatricula").click();
				}
			}
			

			function calculaCargaHoraria(){

				var entrada = document.getElementById("corpo:formulario:horaEntrada").value;
				var saida = document.getElementById("corpo:formulario:horaSaida").value;
				if( entrada != null && entrada != "" && saida != null && saida != "" ){
					document.getElementById("corpo:formulario:calculaCargaHoraria").click();
				}
			}

			cabecalho();
			function cabecalho(){
			 	setTimeout("window.scrollTo(0,0)", 1000);
			}
					
		 //]]>
			
		</script>
	
	
		
	</ui:composition> 
</html>


