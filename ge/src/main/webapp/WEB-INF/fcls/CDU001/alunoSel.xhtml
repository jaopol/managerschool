<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:plcf="http://www.powerlogic.com.br/plcf" 
	xmlns:tr="http://myfaces.apache.org/trinidad" 
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:trh="http://myfaces.apache.org/trinidad/html">  
	<ui:composition> 
	
	<style>
	
	.ui-state-hover, .ui-widget-content .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus { border: 1px solid #B0E5FF; background: #D1EBF4 url(images/ui-bg_flat_100_D1EBF4_40x100.png) 50% 50% repeat-x; font-weight: normal; color: #0000FF; outline: none; }
	
	</style>
	
	<c:choose>
		<c:when test="${param.modoJanelaPlc == 'popup'}">
			<script type="text/javascript">//<![CDATA[
			jQuery(function(){
				jQuery.plc.criaSelecaoJqGrid('plc-grid', 'plc-grid-navegador', {
					modoJanelaPlc: '${param.modoJanelaPlc}',
					evento: '${param.evento}',
					nomeLogica: 'aluno',
					propAgregada: 'aluno',
					jqGrid: {
						height:300,
						rowNum: '#{plcConfigUrlColaboracao.numPorPagina}',
						caption:'Aluno(s) matriculado(s)',
						colNames:['Matrícula',   
								  'Nome do Aluno',   
								  'Tipo Educação',   
								  'Turma',   
								  'Telefone' ,   
								  'Responsável'],
						colModel:[{name: 'matricula' ,index: 'matricula'},  
								  {name: 'nomeAluno' ,index: 'nomeAluno'},  
								  {name: 'tipoEducacaoStr' ,index: 'tipoEducacao'},  
								  {name: 'turma' ,index: 'turma'},  
								  {name: 'telefone' ,index: 'telefone'},  
								  {name: 'responsavelAluno' ,index: 'responsavelAluno'}]
					}
				,urlEdicao: '#{request.contextPath}/f/n/alunomdt'});
			});
		//]]> </script> 
		</c:when>
		<c:otherwise>
			<script type="text/javascript">//<![CDATA[
			jQuery(function(){
				jQuery.plc.criaSelecaoJqGrid('plc-grid', 'plc-grid-navegador', {
					modoJanelaPlc: '${param.modoJanelaPlc}',
					evento: '${param.evento}',
					nomeLogica: 'aluno',
					propAgregada: 'aluno',
					jqGrid: {
						height:300,
						rowNum: '#{plcConfigUrlColaboracao.numPorPagina}',
						caption:'Aluno(s) matriculado(s)',
						colNames:['Matrícula',   
								  'Nome do Aluno',   
								  'Tipo Educação',   
								  'Turma',   
								  'Telefone' ,   
								  'Responsável'],
						colModel:[{name: 'matricula' ,index: 'matricula'},  
								  {name: 'nomeAluno' ,index: 'nomeAluno'},  
								  {name: 'tipoEducacaoStr' ,index: 'tipoEducacao'},  
								  {name: 'turma' ,index: 'turma'},  
								  {name: 'telefone' ,index: 'telefone'},  
								  {name: 'responsavelAluno' ,index: 'responsavelAluno'}]},
					aoSelecionar:function(id){
							var modo = '${param.modoJanelaPlc}';
							if (""==modo){
								window.open('#{request.contextPath}/f/n/alunomdt?chPlc=' +id, '_blank');
							}
					}});
				});
			//]]> </script> 
		</c:otherwise>
	</c:choose>
		
		 
		<table id="plc-grid" width="100%" class="scroll" cellpadding="0" cellspacing="0"/>  
		<div id="plc-grid-navegador" class="scroll" style="text-align:center;"/> 
	</ui:composition>  
</html>
